<div class="schema">
  <div class="field"
       ng-repeat="field in Dataset.dataschema | orderBy : Dataset.fieldOrder"
       ng-init="pill = {name:field.name, type: field.type, aggr: field.aggr};">
    <div class="type icon-type-{{typeNames[field.type]}}" title="{{typeNames[field.type]}}">
      {{field.type}}
    </div>
    <div class="field-pill draggable"
         ng-model="pill"
         data-drag="true"
         jqyoui-draggable="{placeholder: 'keep', onStart: 'fieldDragStart'}"
         data-jqyoui-options="{revert: 'invalid', helper: 'clone'}">

      <field-info field="field"></field-info>

      <i class="fa fa-info-circle" ng-hide="field.aggr === 'count'" tooltips ng-init="stats = Dataset.stats[field.name]" tooltip-size="small" tooltip-title="
        <div class='tooltip-content'>
          <strong>Name:</strong> {{field.name}}<br>
          <strong>Cardinality:</strong> {{stats.cardinality}}<br>
          <strong>Min:</strong> {{stats.min}}<br>
          <strong>Max:</strong> {{stats.max}}<br>
          <strong>Max length:</strong> {{stats.maxlength}}<br>
          <strong>Samples:</strong> <div class='sample'>{{stats.sample.join(', ')}}</div>
        </div>" tooltip-side="right"></i>
      <i class="fa fa-info-circle" ng-show="field.aggr === 'count'" tooltips tooltip-size="small" tooltip-title="
        <div class='tooltip-content'>
          <strong>Count:</strong> {{Dataset.stats.count}}
        </div>" tooltip-side="right"></i>
    </div>
  </div>
</div>
